(function(){"use strict";angular.module("seaspongeApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap","ui.select","ngDragDrop"]).config(["$routeProvider",function(a){return a.when("/",{templateUrl:"views/main.html",controller:"MainController"}).when("/about",{templateUrl:"views/about.html",controller:"AboutController"}).when("/draw",{templateUrl:"views/draw.html",controller:"DrawController"}).when("/create",{templateUrl:"views/create.html",controller:"CreateController"}).when("/load",{templateUrl:"views/load.html",controller:"LoadController"}).otherwise({redirectTo:"/"})}])}).call(this),function(){"use strict";angular.module("seaspongeApp").controller("MainController",["$scope",function(a){return a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}])}.call(this),function(){"use strict";angular.module("seaspongeApp").controller("AboutController",["$scope",function(a){return a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}])}.call(this),function(){"use strict";angular.module("seaspongeApp").controller("DrawController",["$scope","Stencils","model",function(a,b,c){var d,e,f;return console.log("model",c),a.model=c,a.stencils=b,a.stencilQuery="",a.filterFn=function(a,b){var c;return c=[],angular.forEach(b,function(b){(-1!==b.title.toLowerCase().indexOf(a.toLowerCase())||-1!==b.category.toLowerCase().indexOf(a.toLowerCase()))&&this.push(b)},c),c.length>0?c:b},a.menu={infoOpen:!1,stencilsOpen:!0,threatsOpen:!1,propertiesOpen:!1},a.fileName="ExampleFileName",a.selectedStencil=!1,a.selectedDiagram=null,a.codeTypeOptions=["Not selected","Managed","Unmanaged"],a.runningAsOptions=["Kernel","System","Network Service","Local Service","Administrator","Standard User with Elevation","Standard User without Elevation","Windows Store App"],a.acceptsInputOptions=["Not Selected","Any Remote User or Entity","Kernel, System, or Local Admin","Local or Network Service","Local Standard User With Elevation","Local Standard User Without Elevation","Windows Store Apps or App Container Processes","Nothing","Other"],a.container=$(".diagram-contents"),a.dropStencil=this.dropStencil=function(b,c){var d,e,f,g,h,i,j,k;return h=c.draggable,d=$(h),g=d.controller("ngModel"),g?(k=g.$modelValue,i=a.addStencil(k),f=a.container.offset(),j={left:b.pageX-f.left,top:b.pageY-f.top},e=i.$element,e.css(j),a.instance.repaintEverything()):void 0},e=function(a,b,c){var d,e,f;return window.URL=window.URL||window.webkitURL,c=c||"text/plain",a=a||"download",b=b||"",d=b instanceof Blob?b:new Blob([b],{type:c}),f=window.URL.createObjectURL(d),e=document.createElement("a"),e.download=a,e.href=f,e.click()},a.saveModel=function(){var b,d,f;return b=prompt("Please enter file name",a.fileName),null!=b?(a.fileName=b,a.selectedDiagram.save(a.instance,a.container),f=c.serialize(),console.log("model serialized",c,f),d=JSON.stringify(f,void 0,4),"undefined"!=typeof Storage?localStorage[b]=d:alert("Sorry! No Web Storage support with this browser..."),confirm("Would you also like to download the "+b+".sponge file?")?e(""+b+".sponge",d,"application/json"):void 0):void 0},a.addStencil=function(b){var c;return null!=a.selectedDiagram?(c=a.selectedDiagram.addElement(b),c.render(a.instance,a.container),c):void 0},a.instance=f=jsPlumb.getInstance({DragOptions:{cursor:"pointer",zIndex:2e3},ConnectionOverlays:[["Arrow",{location:1}],["Label",{location:.1,id:"label",cssClass:"aLabel"}]],Container:"content-right"}),a.loadDiagram=function(b){var c;return null!=b?(null!=a.selectedDiagram&&(c=a.selectedDiagram,c.save(a.instance,a.container),c.constructor.clear(a.instance,a.container),c.selected=!1),b.render(a.instance,a.container),b.selected=!0,a.selectedDiagram=b,a.selectedStencil=!1):void 0},a.openModelInfo=function(){return a.menu.infoOpen=!0},a.exportDiagram=function(){var b;return b=$(".drawing-panel").get(0),html2canvas(b,{onrendered:function(c){var d,f,g;return g=c.getContext("2d"),f=$("> svg",b),f.each(function(){var a,b,c;return a=$(this),b=a.position(),c=a.prop("outerHTML"),g.drawSvg(c,b.left,b.top)}),d=$("._jsPlumb_endpoint > svg",b),d.each(function(){var a,b,c;return a=$(this),b=a.parent().position(),c=a.prop("outerHTML"),g.drawSvg(c,b.left,b.top)}),c.toBlob(function(b){return e(""+a.selectedDiagram.title+".jpg",b,"image/jpeg")})}})},a.container.on("stencil-instance-click",function(b,c){return a.$apply(function(){return $(".selected-stencil").removeClass("selected-stencil"),a.selectedStencil===c?(a.selectedStencil=!1,a.menu.propertiesOpen=!1,a.menu.stencilsOpen=!0):(c.$element.addClass("selected-stencil"),a.selectedStencil=c,a.menu.stencilsOpen=!1,a.menu.propertiesOpen=!0)})}),0===c.diagrams.length?(d=c.addDiagram(),console.log("Load new diagram",d),a.loadDiagram(d)):(d=c.diagrams[0],a.loadDiagram(d))}])}.call(this),function(){angular.module("seaspongeApp").factory("Stencils",["BrowserClientStencil","GeneralProcessStencil","KernelThreadStencil","ManagedStencil","NativeStencil","OSProcessStencil","ThickStencil","ThreadStencil","VirtualStencil","WebServerStencil","WebServiceStencil","WebStencil","Win32ServiceStencil","WindowsStoreProcessStencil","AppContainerBoundary","ChromeBoundaries","CorpNetTrustBoundary","FFBoundaries","GenericTrustBoundary","IEBoundaries","InternetBoundary","KernelModeTrustBoundary","MachineTrustBoundary","SafariBoundaries","SandboxTrustBoundaryBorder","UserModeTrustBoundary","Authorization","Browser","GenericExternalInteractor","HumanUser","MegaService","WebExternal","WebServiceExternal","WindowsDotNETRuntime","WindowsNTRuntime","WindowsRuntime","ALP","Binary","GenericDataFlow","HTTP","HTTPS","IOCTLInterface","IPsec","NamedPipe","RPC","SMB","UDP","Cache","CloudStorage","ConfigFile","Cookie","Devices","FileSystem","GenericDataStore","HTML5LocalStorage","NonRelationalDB","RegistryHive","SQLDB",function(){return arguments}])}.call(this),function(){var a=function(a,b){return function(){return a.apply(b,arguments)}};angular.module("seaspongeApp").factory("BaseStencil",function(){var b;return b=function(){function b(){this.deserialize=a(this.deserialize,this),this.serialize=a(this.serialize,this),this.render=a(this.render,this);var b,c,d;this.uuid=jsPlumbUtil.uuid(),this.tags=[],this.location={left:0,top:0},this.authenticationScheme={uses:!1,description:null},this.authorizationScheme={uses:!1,description:null},this.communicationProtocol={uses:!1,description:null},this.$element=b=$("<div />",{id:this.uuid}).append($("<p/>").text(""+this.constructor.title+" <"+this.constructor.category+">")),this.$element.data("stencil",this),c=this.constructor.classNames.join(" "),d=this.constructor.shape,b.addClass(c),b.addClass(d)}return b.title="Base",b.category="Base",b.anchors=[],b.icon="http://png-5.findicons.com/files/icons/1070/software/128/mozilla_firefox.png",b.classNames=["stencil"],b.shape="rectange",b.prototype.uuid=null,b.prototype.$element=null,b.prototype.location=null,b.prototype.tags=null,b.prototype.codeType="Managed",b.prototype.runningAs="Kernel",b.prototype.acceptsInput="Kernel, System, or Local Admin",b.prototype.authenticationScheme=null,b.prototype.authorizationScheme=null,b.prototype.communicationProtocol=null,b.prototype.notes="There is no available notes.",b.prototype.render=function(a,b){return this.$element.data("stencil",this),0===this.$element.parent().length&&b.append(this.$element),this.$element.unbind("click"),this.$element.unbind("mouseup"),this.$element.mouseup(function(a){return function(){return a.getPosition()}}(this)),this.$element.click(function(a){return function(c){return b.trigger("stencil-instance-click",[a,c])}}(this)),a.doWhileSuspended(function(b){return function(){var c;return b._addEndpoints(a,b.uuid,["TopCenter","BottomCenter"],["LeftMiddle","RightMiddle"]),c=jsPlumb.getSelector(".diagram-contents .stencil"),a.draggable(c,{grid:[20,20]}),a.repaint()}}(this))},b.prototype._addEndpoints=function(a,b,c,d){var e,f,g,h;for(e=0;e<c.length;)g=b+c[e],a.addEndpoint(""+b,this.sourceEndpoint,{anchor:c[e],uuid:g}),e++;for(f=0;f<d.length;)h=b+d[f],a.addEndpoint(""+b,this.targetEndpoint,{anchor:d[f],uuid:h}),f++},b.prototype.getPosition=function(){return this.$element.parent().length>0&&(this.location=this.$element.position()),this.location},b.prototype.setPosition=function(a){return this.$element.css(a),this.getPosition()},b.prototype.serialize=function(){var a;return a={id:this.uuid,name:this.constructor.title,category:this.constructor.category,"class":this.constructor.name,location:this.getPosition(),tags:this.tags,scale:1,notes:this.notes,attributes:{shape:this.constructor.shape,codeType:this.codeType,runningAs:this.runningAs,acceptsInput:this.acceptsInput,authenticationScheme:this.authenticationScheme,authorizationScheme:this.authorizationScheme,communicationProtocol:this.communicationProtocol}}},b.prototype.deserialize=function(a){var b;return b=a.attributes,this.uuid=a.id,this.tags=a.tags,this.codeType=b.codeType,this.runningAs=b.runningAs,this.acceptsInput=b.acceptsInput,this.authenticationScheme=b.authenticationScheme,this.authorizationScheme=b.authorizationScheme,this.communicationProtocol=b.communicationProtocol,this.notes=a.notes,this.$element.attr("id",this.uuid),this.setPosition(a.location),this},b.prototype.sourceEndpoint={endpoint:"Dot",paintStyle:{strokeStyle:"#7AB02C",fillStyle:"transparent",radius:7,lineWidth:3},isSource:!0,connector:["Flowchart",{stub:[40,60],gap:10,cornerRadius:5,alwaysRespectStubs:!0}],connectorStyle:b.connectorPaintStyle,hoverPaintStyle:b.endpointHoverStyle,connectorHoverStyle:b.connectorHoverStyle,dragOptions:{},overlays:[["Label",{location:[.5,1.5],cssClass:"endpointSourceLabel"}]]},b.prototype.targetEndpoint={endpoint:"Dot",paintStyle:{fillStyle:"#7AB02C",radius:11},hoverPaintStyle:b.endpointHoverStyle,maxConnections:-1,dropOptions:{hoverClass:"hover",activeClass:"active"},isTarget:!0,overlays:[["Label",{location:[.5,-.5],cssClass:"endpointTargetLabel"}]]},b.prototype.connectorPaintStyle={lineWidth:4,strokeStyle:"#61B7CF",joinstyle:"round",outlineColor:"white",outlineWidth:2},b.prototype.connectorHoverStyle={lineWidth:4,strokeStyle:"#216477",outlineWidth:2,outlineColor:"white"},b.prototype.endpointHoverStyle={fillStyle:"#216477",strokeStyle:"#216477"},b}()})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("BaseBoundaryStencil",["BaseStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Base",c.category="Boundary",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("AppContainerBoundary",["BaseBoundaryStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="App Container Boundary",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("ChromeBoundaries",["BaseBoundaryStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Chrome Boundaries",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("CorpNetTrustBoundary",["BaseBoundaryStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="CorpNet Trust Boundary",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("FFBoundaries",["BaseBoundaryStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Firefox Boundaries",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("GenericTrustBoundary",["BaseBoundaryStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Generic Trust Boundary",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("IEBoundaries",["BaseBoundaryStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Internet Explorer Boundaries",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("InternetBoundary",["BaseBoundaryStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Internet Boundary",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("KernelModeTrustBoundary",["BaseBoundaryStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Kernel-Mode Trust Boundary",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("MachineTrustBoundary",["BaseBoundaryStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Machine Trust Boundary",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("SafariBoundaries",["BaseBoundaryStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Safari Boundaries",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("SandboxTrustBoundaryBorder",["BaseBoundaryStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Sandbox Trust Boundary Border",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("UserModeTrustBoundary",["BaseBoundaryStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="User-Mode Trust Boundary",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("BaseExternalStencil",["BaseStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Base",c.category="External",c.shape="circle",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("Authorization",["BaseExternalStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Authorization",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("Browser",["BaseExternalStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Browser",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("GenericExternalInteractor",["BaseExternalStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Generic External Interactor",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("HumanUser",["BaseExternalStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Human User",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("MegaService",["BaseExternalStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Mega Service",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("WebExternal",["BaseExternalStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Web",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("WebServiceExternal",["BaseExternalStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Web Service",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("WindowsDotNETRuntime",["BaseExternalStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Windows .NET Runtime",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("WindowsNTRuntime",["BaseExternalStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Windows NT Runtime",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("WindowsRuntime",["BaseExternalStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Windows Runtime",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("BaseFlowStencil",["BaseStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Base",c.category="Flow",c.shape="ellipse",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("ALP",["BaseFlowStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="ALP",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("Binary",["BaseFlowStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Binary",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("GenericDataFlow",["BaseFlowStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Generic Data Flow",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("HTTP",["BaseFlowStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="HTTP",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("HTTPS",["BaseFlowStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="HTTPS",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("IOCTLInterface",["BaseFlowStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="IOCTL Interface",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("IPsec",["BaseFlowStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="IPsec",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("NamedPipe",["BaseFlowStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Named Pipe",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("RPC",["BaseFlowStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="RPC",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("SMB",["BaseFlowStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="SMB",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("UDP",["BaseFlowStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="UDP",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("BaseProcessStencil",["BaseStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Base",c.category="Process",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("GeneralProcessStencil",["BaseProcessStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="General Process",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("OSProcessStencil",["BaseProcessStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="OS Process",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("ThreadStencil",["BaseProcessStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Thread",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("KernelThreadStencil",["BaseProcessStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Kernel Thread",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("NativeStencil",["BaseProcessStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Native",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("ManagedStencil",["BaseProcessStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Managed",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("ThickStencil",["BaseProcessStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Thick",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("BrowserClientStencil",["BaseProcessStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Browser Client",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("WebServerStencil",["BaseProcessStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Web Server",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("WindowsStoreProcessStencil",["BaseProcessStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Windows Store Process",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("WebStencil",["BaseProcessStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Web",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("WebServiceStencil",["BaseProcessStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Web Service",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);
return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("Win32ServiceStencil",["BaseProcessStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Win32 Service",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("VirtualStencil",["BaseProcessStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Virtual",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("BaseStoreStencil",["BaseStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Base",c.category="Store",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("Cache",["BaseStoreStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Cache",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("CloudStorage",["BaseStoreStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Cloud Storage",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("ConfigFile",["BaseStoreStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Configuration File",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("Cookie",["BaseStoreStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Cookie",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("Devices",["BaseStoreStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Devices",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("FileSystem",["BaseStoreStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="File System",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("GenericDataStore",["BaseStoreStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Generic Data Store",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("HTML5LocalStorage",["BaseStoreStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="HTML5 Local Storage",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("NonRelationalDB",["BaseStoreStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Non-Relational Database",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("RegistryHive",["BaseStoreStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="Registry Hive",c}(a)}])}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};angular.module("seaspongeApp").factory("SQLDB",["BaseStoreStencil",function(a){var c;return c=function(a){function c(){return c.__super__.constructor.apply(this,arguments)}return b(c,a),c.title="SQL Database",c}(a)}])}.call(this),function(){"use strict";angular.module("seaspongeApp").controller("CreateController",["$scope","$location","model",function(a,b,c){return console.log("model",c),a.title="Example 1",a.authors="Glavin Wiechert",a.version="0.0.0",a.createModel=function(){return c.title=a.title,c.authors=a.authors,c.version=a.version,b.path("/draw")}}])}.call(this),function(){"use strict";angular.module("seaspongeApp").controller("LoadController",["$scope","$location","model",function(a,b,c){return a.loadFile=function(d){return a.$apply(function(){var e;return e=new FileReader,e.onload=function(){return a.$apply(function(){var a,d;return a=e.result,d=JSON.parse(a),c.deserialize(d),b.path("/draw")})},e.readAsText(d.files[0])})}}])}.call(this),function(){"use strict";var a=function(a,b){return function(){return a.apply(b,arguments)}};angular.module("seaspongeApp").factory("model",["Diagram",function(b){var c;return new(c=function(){function c(){this.deserialize=a(this.deserialize,this),this.serialize=a(this.serialize,this),this.diagrams=[]}return c.prototype.title="Untitled Model",c.prototype.version="0.0.0",c.prototype.authors="",c.prototype.threats="",c.prototype.notes="",c.prototype.diagrams=null,c.prototype.addDiagram=function(){var a;return a=new b,this.diagrams.push(a),a},c.prototype.removeDiagram=function(a){return this.diagrams.remove(a)},c.prototype.serialize=function(){var a,b;return b={title:this.title,version:this.version,date:new Date,authors:this.authors,threats:this.threats,notes:this.notes,diagrams:function(){var b,c,d,e;for(d=this.diagrams,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.serialize());return e}.call(this)}},c.prototype.deserialize=function(a){var b;return this.title=a.title,this.version=a.version,this.authors=a.authors,this.threats=a.threats,this.notes=a.notes,this.diagrams=function(){var c,d,e,f;for(e=a.diagrams,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(this.addDiagram().deserialize(b));return f}.call(this),this},c}())}])}.call(this),function(){"use strict";var a=function(a,b){return function(){return a.apply(b,arguments)}};angular.module("seaspongeApp").factory("Diagram",["Stencils",function(b){var c;return c=function(){function c(){this.render=a(this.render,this),this.deserialize=a(this.deserialize,this),this.serialize=a(this.serialize,this),this.id=jsPlumbUtil.uuid(),this.elements=[],this.flows=[],this.boundaries=[]}return c.prototype.id=null,c.prototype.title="Untitled Diagram",c.prototype.elements=null,c.prototype.flows=null,c.prototype.boundaries=null,c.clear=function(a,b){var c,d,e,f;for(d=a.getConnections(),e=0,f=d.length;f>e;e++)c=d[e],a.detach(c);return a.removeAllEndpoints(),a.reset(),$(b).empty()},c.prototype.serialize=function(){var a,b,c;return c={id:this.id,title:this.title,elements:function(){var a,c,d,e;for(d=this.elements,e=[],a=0,c=d.length;c>a;a++)b=d[a],e.push(b.serialize());return e}.call(this),flows:this.flows,boundaries:function(){var b,c,d,e;for(d=this.boundaries,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.serialize());return e}.call(this)}},c.stencilClassForElement=function(a){var c;return c=function(){var d,e,f;for(f=[],d=0,e=b.length;e>d;d++)c=b[d],c.name===a&&f.push(c);return f}(),c[0]},c.prototype.deserialize=function(a){var b;return this.id=a.id,this.title=a.title,this.elements=function(){var c,d,e,f;for(e=a.elements,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(this.addElement(this.constructor.stencilClassForElement(b["class"])).deserialize(b));return f}.call(this),this.flows=a.flows,this},c.prototype.addElement=function(a){var b;return b=new a,this.elements.push(b),b},c.prototype.save=function(a,b){var c,d,e,f,g;return c=$(".stencil",b),f=function(){var a,b,d;for(d=[],a=0,b=c.length;b>a;a++)e=c[a],d.push($(e).data("stencil"));return d}(),this.elements=f,d=a.getConnections(),this.flows=function(){var a,b,c;for(c=[],a=0,b=d.length;b>a;a++)g=d[a],c.push({sourceId:g.sourceId,targetId:g.targetId});return c}(),this},c.prototype.render=function(a,b){return jsPlumb.ready(function(c){return function(){var d;return d=function(a){a.getOverlay("label").setLabel(a.sourceId.substring(15)+"-"+a.targetId.substring(15)),a.bind("editCompleted",function(a){"undefined"!=typeof console&&console.log("connection edited. path is now ",a.path)})},a.doWhileSuspended(function(){var e,f,g,h,i,j,k,l;for(a.bind("connection",function(a){d(a.connection)}),a.bind("click",function(a){confirm("Delete connection from "+a.sourceId+" to "+a.targetId+"?")&&jsPlumb.detach(a)}),a.bind("connectionDrag",function(a){console.log("connection "+a.id+" is being dragged. suspendedElement is ",a.suspendedElement," of type ",a.suspendedElementType)}),a.bind("connectionDragStop",function(a){console.log("connection "+a.id+" was dragged")}),a.bind("connectionMoved",function(a){console.log("connection "+a.connection.id+" was moved")}),a.bind("contextmenu",function(a,b){console.log("contextmenu: ",a,b)}),k=c.elements,g=0,i=k.length;i>g;g++)e=k[g],e.render(a,b);for(l=c.flows,h=0,j=l.length;j>h;h++)f=l[h],a.connect({source:f.sourceId,target:f.targetId});return a.draggable(jsPlumb.getSelector(".diagram-contents .stencil"),{grid:[20,20]}),a.repaint(),a.repaintEverything()})}}(this))},c}()}])}.call(this);